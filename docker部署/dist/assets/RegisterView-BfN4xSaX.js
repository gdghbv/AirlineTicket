import{_ as q,r as u,g as C,c as _,a as d,b as U,d as r,w as l,e as o,u as A,o as g,f as n,h as F,i as y,F as D,E as x}from"./index-DuoLJuUX.js";import{C as E,A as S}from"./index-6vGxE6Be.js";import"./request-DuNoOhOk.js";const T={class:"register-root fade-in-page"},z={class:"register-card card-pop"},$={class:"register-left"},j={class:"register-right animated-slide-in-right"},H={class:"form-title"},J={__name:"RegisterView",setup(K){const f=A(),i=u("customer"),c=u(!1),a=u({phone:"",userName:"",password:"",email:"",airportId:"",airportName:""}),N=u({phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1\d{10}$/,message:"请输入正确的手机号",trigger:"blur"}],userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:4,message:"密码至少4位",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],airportId:[{required:!0,message:"请输入机场ID",trigger:"blur"}],airportName:[{required:!0,message:"请输入机场名称",trigger:"blur"}]}),v=u(),V=u(null);C(i,m=>{a.value={phone:"",userName:"",password:"",email:"",airportId:"",airportName:""}});const w=()=>{v.value.validate(async m=>{if(m){c.value=!0;try{i.value==="customer"?(await E({phone:a.value.phone,userName:a.value.userName,password:a.value.password}),x.success("顾客注册成功，请登录"),f.push("/login")):(await S({phone:a.value.phone,password:a.value.password,airportId:a.value.airportId,userName:a.value.userName,airportName:a.value.airportName}),x.success("机场用户注册成功，请登录"),f.push("/login"))}catch{}finally{c.value=!1}}})};return(m,e)=>{const k=o("i-ep-user"),I=o("el-icon"),b=o("el-radio-button"),h=o("el-radio-group"),p=o("el-input"),s=o("el-form-item"),B=o("el-button"),R=o("router-link"),G=o("el-form"),M=o("el-card");return g(),_("div",T,[d("div",z,[d("div",$,[d("div",{class:"register-graphic",ref_key:"planeArea",ref:V},e[6]||(e[6]=[U('<svg id="plane-svg" width="120" height="120" viewBox="0 0 120 120" data-v-5bae018a><defs data-v-5bae018a><linearGradient id="lg2" x1="0" y1="0" x2="1" y2="1" data-v-5bae018a><stop offset="0%" stop-color="#4facfe" data-v-5bae018a></stop><stop offset="100%" stop-color="#00c6fb" data-v-5bae018a></stop></linearGradient><linearGradient id="plane-gradient-register" x1="0" y1="0" x2="1" y2="1" data-v-5bae018a><stop offset="0%" stop-color="#ffffff" data-v-5bae018a></stop><stop offset="50%" stop-color="#f0f0f0" data-v-5bae018a></stop><stop offset="100%" stop-color="#e0e0e0" data-v-5bae018a></stop></linearGradient><filter id="glow-register" data-v-5bae018a><feGaussianBlur stdDeviation="3" result="coloredBlur" data-v-5bae018a></feGaussianBlur><feMerge data-v-5bae018a><feMergeNode in="coloredBlur" data-v-5bae018a></feMergeNode><feMergeNode in="SourceGraphic" data-v-5bae018a></feMergeNode></feMerge></filter></defs><circle cx="60" cy="60" r="55" fill="url(#lg2)" opacity="0.7" style="--circle-opacity:0.7;" data-v-5bae018a></circle><circle cx="60" cy="60" r="40" fill="url(#lg2)" opacity="0.25" style="--circle-opacity:0.25;" data-v-5bae018a></circle><circle cx="60" cy="60" r="25" fill="url(#lg2)" opacity="0.15" style="--circle-opacity:0.15;" data-v-5bae018a></circle><g id="plane-group" filter="url(#glow-register)" data-v-5bae018a><ellipse cx="60" cy="60" rx="3" ry="20" fill="url(#plane-gradient-register)" data-v-5bae018a></ellipse><ellipse cx="60" cy="55" rx="18" ry="4" fill="url(#plane-gradient-register)" data-v-5bae018a></ellipse><ellipse cx="60" cy="75" rx="8" ry="3" fill="url(#plane-gradient-register)" data-v-5bae018a></ellipse><circle cx="60" cy="42" r="3" fill="#43e97b" data-v-5bae018a></circle><circle cx="60" cy="50" r="1.5" fill="#43e97b" opacity="0.6" data-v-5bae018a></circle><circle cx="60" cy="55" r="1.5" fill="#43e97b" opacity="0.6" data-v-5bae018a></circle><circle cx="60" cy="60" r="1.5" fill="#43e97b" opacity="0.6" data-v-5bae018a></circle></g></svg><div class="register-title" data-v-5bae018a>欢迎注册</div><div class="register-desc" data-v-5bae018a>开启智能出行新体验</div>',3)]),512)]),d("div",j,[r(M,{class:"register-el-card"},{default:l(()=>[d("div",H,[r(I,{style:{"vertical-align":"middle","font-size":"22px",color:"#43e97b"}},{default:l(()=>[r(k)]),_:1}),e[7]||(e[7]=n(" 用户注册 "))]),r(h,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),class:"user-type-group"},{default:l(()=>[r(b,{label:"customer"},{default:l(()=>e[8]||(e[8]=[n("顾客用户")])),_:1,__:[8]}),r(b,{label:"airport"},{default:l(()=>e[9]||(e[9]=[n("机场用户")])),_:1,__:[9]})]),_:1},8,["modelValue"]),r(G,{model:a.value,rules:N.value,ref_key:"registerFormRef",ref:v,"label-width":"100px",class:"register-form"},{default:l(()=>[r(s,{label:"手机号",prop:"phone"},{default:l(()=>[r(p,{modelValue:a.value.phone,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.phone=t),maxlength:"20","prefix-icon":"i-ep-phone"},null,8,["modelValue"])]),_:1}),i.value==="customer"?(g(),F(s,{key:0,label:"用户名",prop:"userName"},{default:l(()=>[r(p,{modelValue:a.value.userName,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.userName=t),maxlength:"20","prefix-icon":"i-ep-user"},null,8,["modelValue"])]),_:1})):y("",!0),r(s,{label:"密码",prop:"password"},{default:l(()=>[r(p,{modelValue:a.value.password,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.password=t),type:"password",maxlength:"20","prefix-icon":"i-ep-lock"},null,8,["modelValue"])]),_:1}),i.value==="airport"?(g(),_(D,{key:1},[r(s,{label:"机场ID",prop:"airportId"},{default:l(()=>[r(p,{modelValue:a.value.airportId,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.airportId=t),maxlength:"10","prefix-icon":"i-ep-office-building"},null,8,["modelValue"])]),_:1}),r(s,{label:"用户名",prop:"userName"},{default:l(()=>[r(p,{modelValue:a.value.userName,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.userName=t),maxlength:"50","prefix-icon":"i-ep-location"},null,8,["modelValue"])]),_:1})],64)):y("",!0),r(s,null,{default:l(()=>[r(B,{type:"primary",onClick:w,loading:c.value,class:"register-btn"},{default:l(()=>e[10]||(e[10]=[n("注册")])),_:1,__:[10]},8,["loading"])]),_:1}),r(s,null,{default:l(()=>[d("span",null,[e[12]||(e[12]=n("已有账号？")),r(R,{to:"/login"},{default:l(()=>e[11]||(e[11]=[n("去登录")])),_:1,__:[11]})])]),_:1})]),_:1},8,["model","rules"])]),_:1})])])])}}},Q=q(J,[["__scopeId","data-v-5bae018a"]]);export{Q as default};
