import{j as x,r as v,_ as k,s as b,c as n,o as r,a as e,i as h,F as C,k as L,l as t,m as M,v as S,n as V,t as f,p as $,d,w as g,q as w,e as j}from"./index-DuoLJuUX.js";import{a as B}from"./customer-BTYy29KR.js";import{C as I}from"./CustomerNavBar-DBTpX4Q2.js";import"./request-DuNoOhOk.js";import"./userInfo-BeHjQlXh.js";import"./index-6vGxE6Be.js";import"./airport-DZ6oIf4n.js";const F="/favicon.ico",N=x("chat",()=>{const i=v([]),o=v(!1),s=v(null);return{messages:i,isLoading:o,error:s,askQuestion:async a=>{var l,m;o.value=!0,s.value=null;try{i.value.push({role:"user",content:a});const c=await B(a);i.value.push({role:"assistant",content:c.data.data})}catch(c){s.value=((m=(l=c.response)==null?void 0:l.data)==null?void 0:m.message)||c.message}finally{o.value=!1}}}}),Q={class:"chat-container"},U={class:"messages"},z={class:"message-content",style:{"white-space":"pre-wrap"}},A={key:0,class:"message assistant"},D=["disabled"],E=["disabled"],H={key:0,class:"error-message"},T={__name:"ChatWindow",setup(i){const o=N(),s=v(""),{messages:u,isLoading:a,error:l}=b(o),m=async()=>{s.value.trim()&&(await o.askQuestion(s.value),s.value="")};return(c,p)=>(r(),n("div",Q,[e("div",U,[(r(!0),n(C,null,L(t(u),(_,y)=>(r(),n("div",{key:y,class:$(["message",_.role])},[e("div",z,f(_.content),1)],2))),128)),t(a)?(r(),n("div",A,p[1]||(p[1]=[e("div",{class:"message-content"},"思考中...",-1)]))):h("",!0)]),e("form",{onSubmit:V(m,["prevent"]),class:"input-area"},[M(e("input",{"onUpdate:modelValue":p[0]||(p[0]=_=>s.value=_),type:"text",placeholder:"输入您的订票相关问题...",disabled:t(a)},null,8,D),[[S,s.value]]),e("button",{type:"submit",disabled:t(a)||!s.value.trim()}," 发送 ",8,E)],32),t(l)?(r(),n("div",H,f(t(l)),1)):h("",!0)]))}},W=k(T,[["__scopeId","data-v-dc6fc65e"]]),R={class:"customer-home"},q={class:"project-title-box"},G={class:"project-desc"},J={class:"chat-box ai-card-style"},K={class:"footer-signature"},O={__name:"CustomerHomeView",setup(i){return(o,s)=>{const u=j("i-ep-UserFilled");return r(),n("div",R,[d(I),e("div",q,[s[2]||(s[2]=e("img",{src:F,class:"project-logo",alt:"logo"},null,-1)),s[3]||(s[3]=e("h1",null,"航空订票系统",-1)),e("div",G,[d(t(w),{style:{color:"#00e6e6","font-size":"1.5em"}},{default:g(()=>s[0]||(s[0]=[e("svg",{width:"1.3em",height:"1.3em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M2.5 19.5L21.5 12.5M2.5 19.5L7.5 14.5M2.5 19.5L9.5 11.5M21.5 12.5L14.5 4.5M21.5 12.5L17.5 19.5",stroke:"#00e6e6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1,__:[0]}),s[1]||(s[1]=e("span",null,"让出行更简单 · 更智能 · 更贴心",-1))])]),e("div",J,[s[4]||(s[4]=e("div",{class:"chat-header chat-header-center"},[e("span",{class:"chat-icon"},"🤖"),e("span",{class:"chat-title"},"AI 订票助手")],-1)),d(W)]),e("footer",K,[d(t(w),{style:{"vertical-align":"middle"}},{default:g(()=>[d(u)]),_:1}),s[5]||(s[5]=e("span",null,"© 2025 航空订票系统 | 作者：张家圣、杨健铭、吴仙勇",-1))])])}}},os=k(O,[["__scopeId","data-v-7c7fc3e8"]]);export{os as default};
