import{g as L,a as E}from"./index-6vGxE6Be.js";import{s as b}from"./request-DuNoOhOk.js";import{_ as H,r as d,c as R,a as r,b as T,d as a,w as l,e as o,u as U,o as q,f as s,E as y}from"./index-DuoLJuUX.js";const z={class:"login-root fade-in-page"},F={class:"login-card card-pop"},S={class:"login-right animated-slide-in-right"},A={class:"login-el-card-header"},D={class:"form-title"},I={__name:"LoginView",setup($){const c=U(),p=d("customer"),f=d(!1),t=d({phone:"",password:""}),x={phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1\d{10}$/,message:"请输入正确的手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:4,message:"密码至少4位",trigger:"blur"}]},u=d(),w=()=>{u.value.validate(async g=>{if(g){f.value=!0;try{let e;p.value==="customer"?(e=await L({phone:t.value.phone,password:t.value.password}),b(e.token),console.log(e.token),y.success("顾客登录成功"),c.push("/customerHome")):(e=await E({phone:t.value.phone,password:t.value.password}),b(e.token),y.success("机场用户登录成功"),c.push("/airport"))}catch{}finally{f.value=!1}}})},V=()=>{c.push("/customerHome")};return(g,e)=>{const h=o("i-ep-house"),v=o("el-icon"),k=o("i-ep-user"),m=o("el-radio-button"),B=o("el-radio-group"),_=o("el-input"),n=o("el-form-item"),N=o("el-button"),G=o("router-link"),M=o("el-form"),C=o("el-card");return q(),R("div",z,[r("div",F,[e[10]||(e[10]=T('<div class="login-left" data-v-8ab2a5f6><div class="login-graphic" data-v-8ab2a5f6><svg id="plane-svg" width="120" height="120" viewBox="0 0 120 120" data-v-8ab2a5f6><defs data-v-8ab2a5f6><linearGradient id="lg-login" x1="0" y1="0" x2="1" y2="1" data-v-8ab2a5f6><stop offset="0%" stop-color="#667eea" data-v-8ab2a5f6></stop><stop offset="100%" stop-color="#764ba2" data-v-8ab2a5f6></stop></linearGradient><linearGradient id="plane-gradient" x1="0" y1="0" x2="1" y2="1" data-v-8ab2a5f6><stop offset="0%" stop-color="#ffffff" data-v-8ab2a5f6></stop><stop offset="50%" stop-color="#f0f0f0" data-v-8ab2a5f6></stop><stop offset="100%" stop-color="#e0e0e0" data-v-8ab2a5f6></stop></linearGradient><filter id="glow" data-v-8ab2a5f6><feGaussianBlur stdDeviation="3" result="coloredBlur" data-v-8ab2a5f6></feGaussianBlur><feMerge data-v-8ab2a5f6><feMergeNode in="coloredBlur" data-v-8ab2a5f6></feMergeNode><feMergeNode in="SourceGraphic" data-v-8ab2a5f6></feMergeNode></feMerge></filter></defs><circle cx="60" cy="60" r="55" fill="url(#lg-login)" opacity="0.7" style="--circle-opacity:0.7;" data-v-8ab2a5f6></circle><circle cx="60" cy="60" r="40" fill="url(#lg-login)" opacity="0.25" style="--circle-opacity:0.25;" data-v-8ab2a5f6></circle><circle cx="60" cy="60" r="25" fill="url(#lg-login)" opacity="0.15" style="--circle-opacity:0.15;" data-v-8ab2a5f6></circle><g id="plane-group" filter="url(#glow)" data-v-8ab2a5f6><ellipse cx="60" cy="60" rx="3" ry="20" fill="url(#plane-gradient)" data-v-8ab2a5f6></ellipse><ellipse cx="60" cy="55" rx="18" ry="4" fill="url(#plane-gradient)" data-v-8ab2a5f6></ellipse><ellipse cx="60" cy="75" rx="8" ry="3" fill="url(#plane-gradient)" data-v-8ab2a5f6></ellipse><circle cx="60" cy="42" r="3" fill="#667eea" data-v-8ab2a5f6></circle><circle cx="60" cy="50" r="1.5" fill="#667eea" opacity="0.6" data-v-8ab2a5f6></circle><circle cx="60" cy="55" r="1.5" fill="#667eea" opacity="0.6" data-v-8ab2a5f6></circle><circle cx="60" cy="60" r="1.5" fill="#667eea" opacity="0.6" data-v-8ab2a5f6></circle></g></svg><div class="login-title" data-v-8ab2a5f6>欢迎登录</div><div class="login-desc" data-v-8ab2a5f6>智能出行，从这里开始</div></div></div>',1)),r("div",S,[a(C,{class:"login-el-card"},{default:l(()=>[r("div",A,[r("span",{class:"go-home-link",onClick:V},[a(v,{style:{"vertical-align":"middle","font-size":"18px",color:"#3a7afe","margin-right":"3px"}},{default:l(()=>[a(h)]),_:1}),e[3]||(e[3]=r("span",null,"去首页",-1))])]),r("div",D,[a(v,{style:{"vertical-align":"middle","font-size":"22px",color:"#6a82fb"}},{default:l(()=>[a(k)]),_:1}),e[4]||(e[4]=s(" 用户登录 "))]),a(B,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=i=>p.value=i),class:"user-type-group"},{default:l(()=>[a(m,{label:"customer"},{default:l(()=>e[5]||(e[5]=[s("顾客用户")])),_:1,__:[5]}),a(m,{label:"airport"},{default:l(()=>e[6]||(e[6]=[s("机场用户")])),_:1,__:[6]})]),_:1},8,["modelValue"]),a(M,{model:t.value,rules:x,ref_key:"loginFormRef",ref:u,"label-width":"80px",class:"login-form"},{default:l(()=>[a(n,{label:"手机号",prop:"phone"},{default:l(()=>[a(_,{modelValue:t.value.phone,"onUpdate:modelValue":e[1]||(e[1]=i=>t.value.phone=i),maxlength:"20","prefix-icon":"i-ep-phone"},null,8,["modelValue"])]),_:1}),a(n,{label:"密码",prop:"password"},{default:l(()=>[a(_,{modelValue:t.value.password,"onUpdate:modelValue":e[2]||(e[2]=i=>t.value.password=i),type:"password",maxlength:"20","prefix-icon":"i-ep-lock"},null,8,["modelValue"])]),_:1}),a(n,null,{default:l(()=>[a(N,{type:"primary",onClick:w,loading:f.value,class:"login-btn"},{default:l(()=>e[7]||(e[7]=[s("登录")])),_:1,__:[7]},8,["loading"])]),_:1}),a(n,null,{default:l(()=>[r("span",null,[e[9]||(e[9]=s("还没有账号？")),a(G,{to:"/register"},{default:l(()=>e[8]||(e[8]=[s("去注册")])),_:1,__:[8]})])]),_:1})]),_:1},8,["model"])]),_:1})])])])}}},O=H(I,[["__scopeId","data-v-8ab2a5f6"]]);export{O as default};
